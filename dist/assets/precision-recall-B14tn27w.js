import{a as i,l as p,o as P,d as y,e as $,g as F,h as k,i as T}from"./datasets-index-DCIs3d3F.js";function M(){const a=[{outcome:"Negative",weight:"9"},{outcome:"Negative",weight:"9"},{outcome:"Negative",weight:"7.9"},{outcome:"Negative",weight:"8"},{outcome:"Negative",weight:"7"},{outcome:"Negative",weight:"7"},{outcome:"Negative",weight:"7"},{outcome:"Negative",weight:"7"},{outcome:"Negative",weight:"7"},{outcome:"Negative",weight:"7"},{outcome:"Negative",weight:"4"},{outcome:"Negative",weight:"4.1"},{outcome:"Negative",weight:"4"},{outcome:"Negative",weight:"4.1"},{outcome:"Negative",weight:"3.9"},{outcome:"Negative",weight:"4.2"},{outcome:"Negative",weight:"4"},{outcome:"Negative",weight:"12"},{outcome:"Negative",weight:"3"},{outcome:"Negative",weight:"3"},{outcome:"Negative",weight:"3"},{outcome:"Negative",weight:"3"},{outcome:"Negative",weight:"3"},{outcome:"Negative",weight:"3"},{outcome:"Negative",weight:"3"},{outcome:"Negative",weight:"0.4"},{outcome:"Positive",weight:"14.5"},{outcome:"Positive",weight:"11.6"},{outcome:"Positive",weight:"9"},{outcome:"Positive",weight:"8"},{outcome:"Positive",weight:"8"},{outcome:"Positive",weight:"8.2"},{outcome:"Positive",weight:"6"},{outcome:"Positive",weight:"6"}],s=i("#beeswarm-chart"),w=s.attr("width"),h=s.attr("height"),l=p().domain([0,15]).range([50,w-50]),d=P().domain(["Negative","Positive"]).range(["#7e93ee","#ffaa33"]);let o=0,n=0,u=0,m=0,c=7.5;const f=y(a).force("x",$(t=>l(+t.weight)).strength(.95)).force("y",F(h/2).strength(.075)).force("collide",k(13)).stop();for(let t=0;t<120;t++)f.tick();const v=s.selectAll(".node").data(a).enter().append("g").attr("class","node");v.append("circle").attr("r",11).attr("cx",t=>t.x).attr("cy",t=>t.y).attr("fill",t=>d(t.outcome)).attr("stroke","white").attr("stroke-width",2),v.append("text").attr("x",t=>t.x).attr("y",t=>t.y+4).attr("text-anchor","middle").attr("fill","white").text(t=>t.outcome==="Positive"?"+":"-");const g=s.append("g").attr("class","decision-boundary").attr("transform",`translate(${l(c)}, 0)`);g.append("rect").attr("height",h-20).attr("width",12).attr("fill","#232f3e").attr("stroke","whitesmoke"),g.append("text").attr("x",20).attr("y",h-10).attr("text-anchor","start").text("预测阳性"),g.append("text").attr("x",-20).attr("y",h-10).attr("text-anchor","end").text("预测阴性");function N(){o=a.filter(e=>e.outcome==="Positive"&&+e.weight>=c).length,n=a.filter(e=>e.outcome==="Negative"&&+e.weight>=c).length,u=a.filter(e=>e.outcome==="Negative"&&+e.weight<c).length,m=a.filter(e=>e.outcome==="Positive"&&+e.weight<c).length,i("#tp").text(`TP: ${o}`),i("#fp").text(`FP: ${n}`),i("#tn").text(`TN: ${u}`),i("#fn").text(`FN: ${m}`);const t=(o+u)/(o+u+n+m)*100,r=o/(o+n)*100,x=o/(o+m)*100;i("#accuracy-value").text(`${isNaN(t)?0:t.toFixed(0)}%`),i("#precision-value").text(`${isNaN(r)?0:r.toFixed(0)}%`),i("#recall-value").text(`${isNaN(x)?0:x.toFixed(0)}%`)}N(),g.call(T().on("drag",t=>{const r=Math.max(50,Math.min(w-50,t.x));c=l.invert(r),g.attr("transform",`translate(${r}, 0)`),N()}))}export{M as p};
